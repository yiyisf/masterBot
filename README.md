# CMaster Bot - ä¼ä¸šçº§ AI åŠ©æ‰‹

ä¸€ä¸ªå¯æ‰©å±•çš„ä¼ä¸šçº§ AI åŠ©æ‰‹ç³»ç»Ÿï¼Œæ”¯æŒ OpenAI å’Œ Anthropic API æ ‡å‡†ã€‚

## ç‰¹æ€§

- ğŸ¤– **å¤š LLM æ”¯æŒ** - åŒæ—¶æ”¯æŒ OpenAI å’Œ Anthropic API æ ‡å‡†
- ğŸ”§ **å¯æ‰©å±•æŠ€èƒ½ç³»ç»Ÿ** - åŸºäº SKILL.md åè®®çš„æ’ä»¶æ¶æ„
- ğŸ’¬ **å¤šç§äº¤äº’æ–¹å¼** - REST APIã€SSE æµå¼ã€WebSocket
- ğŸ§  **ä¼šè¯è®°å¿†** - æ”¯æŒè·¨å¯¹è¯çš„ä¸Šä¸‹æ–‡ä¿æŒ
- ğŸ¢ **ä¼ä¸šçº§è®¾è®¡** - é€‚ç”¨äºå†…ç½‘éƒ¨ç½²

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### é…ç½®

1. å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼š
```bash
cp .env.example .env
```

2. ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä½ çš„ LLM æœåŠ¡åœ°å€å’Œå¯†é’¥ï¼š
```env
OPENAI_BASE_URL=http://your-internal-ai-gateway/v1
OPENAI_API_KEY=your-api-key
OPENAI_MODEL=gpt-4
```

### å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm run build
npm start
```

## API ä½¿ç”¨

### èŠå¤© API

```bash
# å•æ¬¡å¯¹è¯
curl -X POST http://localhost:3000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "å¸®æˆ‘åˆ—å‡ºå½“å‰ç›®å½•çš„æ–‡ä»¶"}'

# æµå¼å“åº”
curl -X POST http://localhost:3000/api/chat/stream \
  -H "Content-Type: application/json" \
  -d '{"message": "å†™ä¸€ä¸ª Hello World ç¨‹åº"}'
```

### WebSocket

```javascript
const ws = new WebSocket('ws://localhost:3000/ws');
ws.send(JSON.stringify({ type: 'chat', message: 'ä½ å¥½' }));
```

## æŠ€èƒ½ç³»ç»Ÿ

æŠ€èƒ½æ˜¯æ‰©å±• AI åŠ©æ‰‹èƒ½åŠ›çš„æ¨¡å—ã€‚æ¯ä¸ªæŠ€èƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹ç›®å½•ï¼ŒåŒ…å« `SKILL.md` æè¿°æ–‡ä»¶ã€‚

### ç›®å½•ç»“æ„

```
skills/
â”œâ”€â”€ built-in/         # å†…ç½®æŠ€èƒ½
â”‚   â”œâ”€â”€ shell/
â”‚   â”œâ”€â”€ file-manager/
â”‚   â””â”€â”€ http-client/
â”œâ”€â”€ installed/        # å®‰è£…çš„ç¬¬ä¸‰æ–¹æŠ€èƒ½
â””â”€â”€ local/            # æœ¬åœ°å¼€å‘çš„æŠ€èƒ½
```

### åˆ›å»ºæ–°æŠ€èƒ½

1. åœ¨ `skills/local/` ä¸‹åˆ›å»ºæŠ€èƒ½ç›®å½•
2. åˆ›å»º `SKILL.md` æ–‡ä»¶å®šä¹‰æŠ€èƒ½å…ƒæ•°æ®å’Œ actions
3. åˆ›å»º `index.ts` å®ç° action å¤„ç†å‡½æ•°

ç¤ºä¾‹ `SKILL.md`:

```yaml
---
name: my-skill
version: 1.0.0
description: æˆ‘çš„è‡ªå®šä¹‰æŠ€èƒ½
---

# My Skill

## Actions

### do_something
æ‰§è¡ŒæŸä¸ªæ“ä½œ
- **å‚æ•°**: `input` (string) - è¾“å…¥å†…å®¹
- **è¿”å›**: æ“ä½œç»“æœ
```

## æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Gateway Layer             â”‚
â”‚  (Fastify HTTP/WebSocket Server)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Agent Core                â”‚
â”‚  (Orchestrator + ReAct Pattern)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         LLM Adapter Layer           â”‚
â”‚   (OpenAI / Anthropic / Custom)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Skill System               â”‚
â”‚   (SKILL.md Protocol + Loader)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## License

MIT
